<th:block th:fragment="body">
	<div class="block-header">
        <h2>USUARIOS</h2>
    </div>
    
    <div class="row clearfix">
    	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    		<div class="card">
    			<div class="header">
    				<h2>Modificar Usuario</h2>
    			</div>
    			
    			<div class="body">
    				<form id="formUsuario" th:action="${ {_PATH_} + 'controlPanel/usuarios/' + objUsuario.getIdUsuario()}" th:method="PUT">
						
						<input type="hidden" th:value="${objUsuario.getIdUsuario()}" name="hddIdUsuario" />
						
						<div class="row clearfix">
							<div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Nombre *</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtNombre" class="form-control" th:value="${objUsuario.getNombre()}" required="required" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Apellido Paterno *</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtApellidoPaterno" class="form-control" th:value="${objUsuario.getApellidoPaterno()}" required="required" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Apellido Materno *</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtApellidoMaterno" th:value="${objUsuario.getApellidoMaterno()}" class="form-control" required="required" />
	                                </div>
	                            </div>
	                        </div>	                        								                        	                     
						</div>
						
						<div class="row clearfix">
							<div class="col-md-4">
	                            <p><b>Departamento *</b></p>
	                            <select class="form-control show-tick" name="cmbDepartamento" id="cmbDepartamento" data-live-search="true" >
	                       			<th:block th:each="item : ${lstDepartamentos}" >
	                       				<option th:if="${objUsuario.getDepartamento().getIdDepartamento() == item.idDepartamento}" th:value="${item.idDepartamento}" th:text="${item.departamento}" selected="selected"></option>
	                       				<option th:unless="${objUsuario.getDepartamento().getIdDepartamento() == item.idDepartamento}" th:value="${item.idDepartamento}" th:text="${item.departamento}"></option>
	                       			</th:block>
	                       		</select>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Puesto *</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtPuesto" th:value="${objUsuario.getPuesto()}" class="form-control" required="required" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Clave</b></p>
	                                <div class="form-line">
	                                    <input type="text" class="form-control" th:value="${objUsuario.getClave()}" required="required" />
	                                </div>
	                            </div>
	                        </div>
						</div>
						
						<div class="row clearfix">
	                        <div class="col-md-8">
	                        	<div class="form-group">
	                        		<p><b>Direcci&oacute;n</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtDireccion" th:value="${objUsuario.getDireccion()}" class="form-control"  />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                            <p><b>Empresa *</b></p>
	                            <select class="form-control show-tick" name="cmbEmpresa" id="cmbEmpresa" data-live-search="true" >
	                            	<th:block th:each="itemEmpresa : ${lstEmpresas}">	
	                            		<option th:if="${objUsuario.getEmpresa().getIdEmpresa() == itemEmpresa.idEmpresa}" selected="selected" th:value="${itemEmpresa.idEmpresa}" th:text="${itemEmpresa.razonSocial}"></option>
	                            		<option th:unless="${objUsuario.getEmpresa().getIdEmpresa() == itemEmpresa.idEmpresa}" th:value="${itemEmpresa.idEmpresa}" th:text="${itemEmpresa.razonSocial}"></option>                            	
	                            	</th:block>
	                       		</select>
	                        </div>
						</div>
						
						<div class="row clearfix">
							<div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Tel&eacute;fono </b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtTelefono" th:value="${objUsuario.getTelefono()}" class="form-control" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Celular</b></p>
	                                <div class="form-line">
	                                    <input type="text" name="txtCelular" th:value="${objUsuario.getCelular()}" class="form-control" />
	                                </div>
	                            </div>
	                        </div>
						
							<div class="col-md-4">
	                            <p><b>Sucursal *</b></p>
	                            <select class="form-control show-tick" name="cmbSucursal" id="cmbSucursal" data-live-search="true" >
	                       			<th:block th:each="itemSucursal : ${lstSucursales}" >
	                       				<option th:if="${objUsuario.getSucursal().getIdSucursal() == itemSucursal.idSucursal}" selected="selected" th:value="${itemSucursal.idSucursal}" th:text="${itemSucursal.sucursal}"></option>
	                       				<option th:unless="${objUsuario.getSucursal().getIdSucursal() == itemSucursal.idSucursal}" th:value="${itemSucursal.idSucursal}" th:text="${itemSucursal.sucursal}"></option>
	                       			</th:block>
	                       		</select>
	                        </div>													
						</div>
						
						<div class="row clearfix">
							<div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Usuario *</b></p>
	                                <div class="form-line">
	                                    <input type="text" id="txtUsername" class="form-control" readonly="readonly" th:value="${objUsuario.username}" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Correo</b></p>
	                                <div class="form-line">
	                                    <input type="text" th:value="${objUsuario.getCorreo()}" class="form-control" readonly="readonly" />
	                                </div>
	                            </div>
	                        </div>
						</div>
						
						<hr />
						
						<div class="row clearfix">
							<div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Contrase&ntilde;a</b></p>
	                                <div class="form-line">
	                                    <input type="password" id="txtPassword" name="txtPassword" class="form-control" />
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <div class="col-md-4">
	                        	<div class="form-group">
	                        		<p><b>Confirmar Contrase&ntilde;a</b></p>
	                                <div class="form-line">
	                                    <input type="password" name="txtConfirm" class="form-control" />
	                                </div>
	                            </div>
	                        </div>
						</div>

					
						<div class="row clearfix">
							<div class="col-md-3 col-md-offset-8 text-right">
								<a th:href="${ {_PATH_} + 'controlPanel/usuarios'}" role="button" class="btn btn-danger m-t-15 waves-effect">CANCELAR</a>
								<button type="submit" class="btn btn-primary m-t-15 waves-effect">MODIFICAR</button>
							</div>
						</div>
					</form>
    			</div>
    		</div>
    	</div>
    </div>
</th:block>

<th:block th:fragment="script">
	<script type="application/javascript" th:inline="javascript">/*<![CDATA[*/			
	
		$(document).ready(function() {
			// VALIDADOR DE FORMULARIO
			$('#formUsuario').validate({
		        rules: {
		            'txtCelular': {
		                number: false
		            },
		            'txtConfirm': {
		                equalTo: '#txtPassword'
		            }
		        },
		        highlight: function (input) {
		            $(input).parents('.form-line').addClass('error');
		        },
		        unhighlight: function (input) {
		            $(input).parents('.form-line').removeClass('error');
		        },
		        errorPlacement: function (error, element) {
		            $(element).parents('.form-group').append(error);
		        }
		    });
			
			//Custom Validations ===============================================================================
		    //Number
		    $.validator.addMethod('number', function (value, element) {
		        return value.match('[0-9]+');
		    },
		        'Por favor ingresa un n&uacute;mero.'
		    );
		});			
		/*]]>*/</script>
</th:block>